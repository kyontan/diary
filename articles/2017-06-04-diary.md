---
title: Bratとか
---

# やったこと

## BratでQuineを書いた

Bratという、Luaで書かれたプログラミング言語がある。Rosetta Codeで見つけた。Luaにコンパイルされて実行されるっぽいけど、AltLuaっぽい（MoonScriptとか）わけじゃなくて、どちらかと言えばRubyに近い雰囲気。違うけど。

そこそこメンテされてるのだけど、ビルドが上手くいかなかった。ちょうど6日前に`rex_onig`というライブラリのバージョンを上げたらしいのだけど、そこで`ln`する対象のバージョンを変えていなくて、結果的にビルドスクリプトが壊れていた。恐らく作者の手元では元々のライブラリのバージョンの共有ライブラリが残っているから正しく動いてるように見えるのだろう。CI入れろ。その辺を直すPRは出しておいた。あっさりマージされた。途中でdockerのバグを踏んだり散々だった。散々すぎる。

ビルドは`./build.sh`を叩くだけでできるようになるはず。

```console
$ ./build.sh
```

実行は`./brat`で、

```console
$ ./brat quine.brat | diff quine.brat -
```

Quineは特に工夫してないです。`to_char`があって良かったとしか言えない。

## ジョジョ3部の前半を見終わった

あと24話あるとかマジかよ‥‥。

とはいえ楽しみ。何を言ってるか分からねーと思うが。

## 傷物語

AbemaTVでやってる。鉄血編と熱血編だけだけど。鉄血編観たいなぁ。

熱血編のバトルシーンやっぱすげぇなぁ。でも鉄血編の方がなぁ。

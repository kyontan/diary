---
title: KokaとかObjeckとかZeptoとか
---

# やったこと

## Koka

Kokaという、エフェクト計算をベースにしてるけど見かけがML系じゃない言語がある。当然だけど手続き型的な言語でもエフェクト計算はできるんだな、という印象。面白いと思う。

JavaScriptにコンパイルされるのでAltJSと呼べなくもない。

また、ビルドのために`npm install`をすると`npm install -g`が発動するクソ仕様。ちなみに`sudo npm install`時に`preinstall`スクリプトを実行するのはnpm@5系列から禁止になったのだけど、どうするつもりなんだろう？　他にも`cabal install`しだしたりして手が付けられない。こんなんに環境を破壊されてはたまらないので`docker`で閉鎖環境を作り出して、そこでビルドした。

ちなみにマルチディスパッチで、`x.foo`は`foo(x)`と同じ意味になる。ChaiScriptもこうだったけど、最近はこういうの流行りなんだろうか？

Quineはなんかそれっぽく書いたつもり。あんましエフェクトとか使えなくて微妙。

## Objeck

なんかVMで実行するプログラミング言語。JITとかもあるし標準ライブラリをがんばって作ってるみたい。しかし手元でまったくビルドが通らない。しかたないので公開されているバイナリで実行した。ビルドスクリプトを見ると成果物を`~/Desktop`に保存したりするので邪悪感がハンパない。

言語としては`→`をメソッド呼び出しに使う以外はいたって普通な気がする。あと`Print`メソッドとかそれ系がオブジェクトに直接生えてる。それってどうなのよ‥‥。

Quineは`→`が目立つようにがんばったつもり。

## Zepto

Haskellで書かれたLisp。`stack`対応してないみたいだけど`stack init`と`apt install libpcre3-dev`で動いた。`stack`すごい。

SchemeっぽいLispってことでSchemeの`format`が使えるのだけど、実装が中途半端なせいでいまいち使えない。仕方ないのでQuineは、Schemeなら恐らくなんで動くんじゃないかっていう`eval`で組み立てるやつにした。手抜き。

## Quineリポジトリ

249言語になった。250言語で祝おうとしたら256言語にしろと言われたので256言語までがんばる。

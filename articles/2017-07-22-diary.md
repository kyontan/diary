---
title: Fate/Zeroを観てる
---

# やったこと

## Fate/Zeroを観てる

面白すぎる。中学生の頃に観たときはstay nightをやる前だったので、やったあとに観るとすごく印象が変わる。征服王がかっこよすぎる。多分Fateで一番の人格者。

今のところ2クール目の2話まで見終わった。キャスターをエクスカリバーで倒したところ。ジャンヌ・ダルクってこのころからしっかりデザインされたんだなって思ったけど、Apocryphaっていつくらいに始まったんだっけ‥‥。企画自体はExtraと並行に考えてたみたいだから、デザインはあったのかもしれない。

## [#4733](https://github.com/crystal-lang/crystal/pull/4733)

なんか直せてしまったのでPull Requestを出しておいた。

```crystal
if true
  foo = 42
end

p foo
```

は動くのに、

```crystal
if true
  foo = 42
end

begin
rescue
end

p foo
```

と`begin ... rescue ... end`を挟むとコンパイラがクラッシュするという怪奇現象。夏だしね、怪奇現象くらい起こるでしょう。

ちなみにPull Requestのタイトルを修正したのは"inference"が動詞だと勘違いしてタイトルを考えていたから。もうやだ英語何も分からない。

## [#4735](https://github.com/crystal-lang/crystal/pull/4735)

タプルを負のインデックスで参照できるようにするやつ。Issueがあったので実装しておいた。

実装自体はそんなに面倒じゃなかったのだけど、`spec/std/tuple_spec.cr`の`[]?`のテストが直接整数リテラルを引数に取る形になってて、そのせいでコンパイルエラーになるので直す必要があったのが盲点だった（Crystalのコンパイラはタプルに対する`[]`と`[]?`の整数リテラルを引数にした呼び出しを特殊扱いするので）。その辺意識してテストを書いてほしい。

## Gravity

というプログラミング言語があって、CLIが微妙な感じで実行結果の返り値と実行時間を終了時に出力してうざかったので`-q`オプションで出力を抑制できるようにPRを投げた。なんかあっさりマージされた。本当にいいのか？　あとQuineを書いた。

最近はQuineリポジトリのPunch Cardを埋めることを目標にしてるのでコミット時間を調整している。

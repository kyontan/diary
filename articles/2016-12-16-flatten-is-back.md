---
title: Iterator#flattenを復活させたりとか、ローグ・ワン/スター・ウォーズ・ストーリーを観たりとか
---

<script async src="//cdn.embedly.com/widgets/platform.js"></script>
<script async src="//platform.twitter.com/widgets.js"></script>

死ぬほど疲れてるって言ってるのに映画を観るアホ。それでも観たいと思うものを作る人がいるのである。

# やったこと

## `Iterator#flatten`を復活させた

<a class="embedly-card" href="https://github.com/crystal-lang/crystal/pull/3703">Revive Iterator#flatten from type inference hell by MakeNowJust · Pull Request #3703 · crystal-lang/crystal</a>

Crystalの型システムに不可能は無いんですよー。いやいや。

Aryに`Tuple`は平坦にしないで欲しいと言われて微妙に困っている。じゃあなんで`Tuple`は`Iterable`なんだよそれが原因だろ、と、そんな感じ。

とりあえず`Tuple`を`Iterable`のインスタンスにしない方針で試してみて影響がどの程度あるか考えたい。

## ローグ・ワン/スター・ウォーズ・ストーリーを観た

<a class="embedly-card" href="http://starwars.disney.co.jp/movie/r1.html">ローグ・ワン／スター・ウォーズ・ストーリー｜ローグワン｜映画｜スター・ウォーズ｜STAR WARS｜</a>

スター・ウォーズの最新作。公開日だというので観てきた。

<blockquote class="twitter-tweet" data-lang="ja"><p lang="ja" dir="ltr">あと、今歌舞伎町にダースベイダーとストームトルーパーがいますね</p>&mdash; さっき作った@3日目東R-13a (@make_now_just) <a href="https://twitter.com/make_now_just/status/809625620887941120">2016年12月16日</a></blockquote>

あと、公開日だというのでコスプレする人もいた。新宿はかくも魔界。

感想は、うーん。楽しいという点で見れば100%、RANMARUの方が楽しかったので‥‥。いや、スター・ウォーズはそういう映画じゃないのは分かってるんだけど‥‥。要するに別に面白くなかったんだよなぁ。エピソード7は最後にルークが出てきたところでかなり興奮したんだけど、別にそういうのもなかったし。デス・スターの設定を矛盾無くつないでるのも見事なんだけど、見事すぎて魅力がないというか。結局自分で自分自身を所詮スピンオフじゃんっていうレベルに落としてしまってる気がする。

ストーリーはシンプルで分かりやすかった。けど、そのわりに各キャラの背景が分かりにくいというか全員が全員背景があるのはどうなのよ。チアルートはかっこよかった。というかかっこよすぎでしょ。ラストもあれでよかったと思う反面、キャラクタが後に続かないのはもったいないな、とも。これで次回作に今回出てきたキャラクタの関係者が出てきてもがっかりなんだけど。

全体的に期待しすぎたんだなぁ、と。
